# ðŸš€ ULTRAZEND - Production Environment Configuration
# FASE 5: DEPLOYMENT E PRODUÃ‡ÃƒO

# Environment
NODE_ENV=production
PORT=3001

# Database Configuration
DATABASE_URL=/app/data/ultrazend.sqlite

# JWT Configuration
JWT_SECRET=ultrazend-production-jwt-secret-ultra-secure-2024-v2
JWT_EXPIRES_IN=7d

# SMTP Server Configuration
SMTP_HOSTNAME=www.ultrazend.com.br
SMTP_SERVER_PORT=25
SMTP_SECURE_PORT=587
SMTP_USERNAME=noreply@ultrazend.com.br

# DNS/DKIM Configuration  
DKIM_SELECTOR=default
DKIM_DOMAIN=www.ultrazend.com.br
DKIM_PRIVATE_KEY=""  # Will be generated automatically if not provided

# Redis Configuration for Queues
REDIS_HOST=ultrazend-redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=""

# Rate Limiting (Production - More Restrictive)
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
EMAIL_RATE_LIMIT_MAX=50      # Max emails per window per user
EMAIL_RATE_LIMIT_WINDOW=3600000  # 1 hour

# Security Configuration
ALLOWED_ORIGINS=https://ultrazend.com.br,https://www.ultrazend.com.br
SESSION_SECRET=ultrazend-session-secret-production-ultra-secure-2024
CSRF_SECRET=ultrazend-csrf-secret-production-2024

# Logging Configuration
LOG_LEVEL=info
LOG_FILE_PATH=/var/www/ultrazend/logs/app.log
LOG_ERROR_PATH=/var/www/ultrazend/logs/error.log
LOG_MAX_SIZE=100m
LOG_MAX_FILES=30
LOG_DATE_PATTERN=YYYY-MM-DD

# Frontend Configuration
FRONTEND_URL=https://www.ultrazend.com.br
BACKEND_URL=https://www.ultrazend.com.br

# Email Configuration
MAIL_FROM_NAME=ULTRAZEND
MAIL_FROM_EMAIL=noreply@ultrazend.com.br
SUPPORT_EMAIL=support@ultrazend.com.br

# Performance & Monitoring
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000  # 30 seconds
MAX_REQUEST_SIZE=10mb
BODY_PARSER_LIMIT=10mb

# Queue Configuration
QUEUE_CONCURRENCY=10
QUEUE_MAX_ATTEMPTS=5
QUEUE_DELAY_RETRY=30000  # 30 seconds
QUEUE_CLEANUP_INTERVAL=3600000  # 1 hour

# SMTP Delivery Configuration
SMTP_POOL_SIZE=10
SMTP_MAX_CONNECTIONS=50
SMTP_CONNECTION_TIMEOUT=60000  # 60 seconds
SMTP_SOCKET_TIMEOUT=600000     # 10 minutes
SMTP_RETRY_ATTEMPTS=3
SMTP_RETRY_DELAY=5000          # 5 seconds

# Webhooks Configuration
WEBHOOK_TIMEOUT=30000          # 30 seconds
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY=5000       # 5 seconds

# File Upload Configuration
MAX_FILE_SIZE=25mb
UPLOAD_PATH=/var/www/ultrazend/uploads
TEMP_PATH=/var/www/ultrazend/temp

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/ultrazend.com.br.crt
SSL_KEY_PATH=/etc/ssl/private/ultrazend.com.br.key
SSL_CA_PATH=/etc/ssl/certs/ultrazend.com.br.ca-bundle

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400000       # 24 hours
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/var/backups/ultrazend

# Cache Configuration
CACHE_TTL=300000               # 5 minutes
CACHE_MAX_KEYS=10000
ENABLE_QUERY_CACHE=true

# Monitoring & Alerts
SENTRY_DSN=""                  # Configure if using Sentry
NEW_RELIC_LICENSE_KEY=""       # Configure if using New Relic
WEBHOOK_MONITORING_URL=""      # Configure for uptime monitoring

# Spam Protection
SPAM_CHECK_ENABLED=true
SPAM_THRESHOLD=5.0
BLACKLIST_CHECK_ENABLED=true

# Geographic Configuration
DEFAULT_TIMEZONE=America/Sao_Paulo
ALLOWED_COUNTRIES=BR,US,CA,EU

# Feature Flags
ENABLE_ANALYTICS=true
ENABLE_TRACKING=true
ENABLE_WEBHOOKS=true
ENABLE_TEMPLATES=true
ENABLE_DOMAINS=true
ENABLE_API_DOCS=true

# Development/Debug (disabled in production)
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_PLAYGROUND=false

# Resource Limits
MAX_EMAILS_PER_HOUR=1000
MAX_RECIPIENTS_PER_EMAIL=100
MAX_ATTACHMENTS_PER_EMAIL=10
MAX_TEMPLATE_SIZE=1mb

# Clean up old data
DATA_RETENTION_DAYS=90
CLEANUP_INTERVAL=86400000      # 24 hours

# IP Whitelist (if needed)
# IP_WHITELIST=31.97.162.155,127.0.0.1

# Emergency maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="ULTRAZEND is under maintenance. Please try again later."

# Version information
APP_VERSION=1.0.0
BUILD_NUMBER=""
DEPLOY_DATE=""
